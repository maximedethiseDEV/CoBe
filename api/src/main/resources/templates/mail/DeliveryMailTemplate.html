<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Informations de livraison</title>
</head>
<body style="margin:0;padding:0;background-color:#f5f7fb;font-family:Arial,Helvetica,sans-serif;color:#1f2937;">
    <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="background-color:#f5f7fb;">
        <tr>
            <td align="center" style="padding:24px 12px;">
                <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="max-width:640px;background:#ffffff;border-radius:12px;overflow:hidden;border:1px solid #e5e7eb;">
                    <tr>
                        <td style="background:linear-gradient(90deg,#3b82f6,#06b6d4);padding:24px;">
                            <h1 style="margin:0;color:#ffffff;font-size:20px;line-height:1.4;font-weight:700;">
                                Informations de livraison
                            </h1>
                        </td>
                    </tr>

                    <tr>
                        <td style="padding:24px;">
                            <p style="margin:0 0 12px 0;font-size:14px;color:#374151;">
                                Bonjour,
                            </p>
                            <p style="margin:0 0 16px 0;font-size:14px;color:#374151;">
                                Veuillez trouver ci-dessous les informations concernant la livraison à réaliser.
                            </p>

                            <table role="presentation" cellspacing="0" cellpadding="0" border="0" width="100%" style="border-collapse:separate;border-spacing:0 8px;">
                                <tr>
                                    <td width="30%" style="padding:12px;border:1px solid #e5e7eb;border-right:none;border-radius:8px 0 0 8px;background:#f9fafb;color:#6b7280;font-size:12px;">
                                        Transporteur
                                    </td>
                                    <td style="padding:12px;border:1px solid #e5e7eb;border-radius:0 8px 8px 0;font-size:13px;color:#111827;">
                                        <span th:text="${transportSupplierName}"></span>
                                        <span th:text="${transportSupplierLicense}"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="30%" style="padding:12px;border:1px solid #e5e7eb;border-right:none;border-radius:8px 0 0 8px;background:#f9fafb;color:#6b7280;font-size:12px;">
                                        Client
                                    </td>
                                    <td style="padding:12px;border:1px solid #e5e7eb;border-radius:0 8px 8px 0;font-size:13px;color:#111827;">
                                        <span th:text="${customerName}"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="30%" style="padding:12px;border:1px solid #e5e7eb;border-right:none;border-radius:8px 0 0 8px;background:#f9fafb;color:#6b7280;font-size:12px;">
                                        Fournisseur
                                    </td>
                                    <td style="padding:12px;border:1px solid #e5e7eb;border-radius:0 8px 8px 0;font-size:13px;color:#111827;">
                                        <span th:text="${materialSupplierName}"></span>
                                        <span th:text="${materialSupplierStreet}"></span>
                                        <span th:text="${materialSupplierCityName}"></span>
                                        <span th:text="${materialSupplierPostalCode}"></span>
                                        <span th:text="${materialSupplierCountryCode}"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="30%" style="padding:12px;border:1px solid #e5e7eb;border-right:none;border-radius:8px 0 0 8px;background:#f9fafb;color:#6b7280;font-size:12px;">
                                        Produit
                                    </td>
                                    <td style="padding:12px;border:1px solid #e5e7eb;border-radius:0 8px 8px 0;font-size:13px;color:#111827;">
                                        <span th:text="${quantity + ' Tonnes'}"></span>
                                        <span>—</span>
                                        <span th:text="${productName}"></span>
                                        <span th:text="${'('+productCode+')'}"></span>
                                    </td>
                                </tr>
                                <tr>
                                    <td width="30%" style="padding:12px;border:1px solid #e5e7eb;border-right:none;border-radius:8px 0 0 8px;background:#f9fafb;color:#6b7280;font-size:12px;">
                                        Horaire de livraison
                                    </td>
                                    <td style="padding:12px;border:1px solid #e5e7eb;border-radius:0 8px 8px 0;font-size:13px;color:#111827;">
                                        <span th:text="${#temporals.format(actualDeliveryBegin, 'dd-MM-yyyy hh:mm')}"></span>
                                        <span>—</span>
                                        <span th:text="${#temporals.format(actualDeliveryEnd, 'dd-MM-yyyy hh:mm')}"></span>
                                    </td>
                                </tr>
                            </table>

                            <div style="height:16px;"></div>

                            <div style="clear:both;height:24px;"></div>

                            <p th:if="${contactPhone != null or contactEmail != null}"
                               style="margin:0;font-size:12px;color:#6b7280;">
                                <span th:if="${contactPhone != null and contactEmail != null}">
                                    Si vous avez des questions, n'hésitez pas à me contacter par téléphone au
                                    <span th:text="${contactPhone}"></span> ou par mail à
                                    <span th:text="${contactEmail}"></span>.
                                </span>
                                <span th:if="${contactPhone != null and contactEmail == null}">
                                    Si vous avez des questions, n'hésitez pas à me contacter par téléphone au
                                    <span th:text="${contactPhone}"></span>.
                                </span>
                                <span th:if="${contactEmail != null and contactPhone == null}">
                                    Si vous avez des questions, n'hésitez pas à me contacter par mail à
                                    <span th:text="${contactEmail}"></span>.
                                </span>
                            </p>

                            <p th:if="${contactPhone == null and contactEmail == null}"
                               style="margin:0;font-size:12px;color:#6b7280;">
                                N'hésitez pas à nous contacter si vous avez des questions.
                            </p>

                        </td>
                    </tr>

                    <tr>
                        <td style="padding:16px 24px;background:#f9fafb;border-top:1px solid #e5e7eb;">
                            <p style="margin:0;font-size:11px;color:#6b7280;">
                                Message automatique — merci de ne pas répondre directement si cela n'est pas nécessaire.
                            </p>
                        </td>
                    </tr>
                </table>

                <div style="padding:12px 0;font-size:11px;color:#9ca3af;">
                    © <span th:text="${#dates.format(#dates.createNow(), 'yyyy')}"></span> — CCB
                </div>
            </td>
        </tr>
    </table>
</body>
</html>