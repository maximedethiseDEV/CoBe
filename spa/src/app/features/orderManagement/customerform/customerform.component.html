<div class="order-form">
  <h2>Enregistrer un client</h2>

  <div class="progress-bar">
    <div class="progress-bar-fill" [style.width.%]="progressPercent"></div>
  </div>

  <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>
  <div *ngIf="errorMessage" class="error-message">{{ errorMessage }}</div>

  <form (ngSubmit)="step === totalSteps ? submitClient() : nextStep()">
    <!-- Étape 1 : Informations sur la société -->
    <div *ngIf="step === 1">
      <h3>Société</h3>
      <div class="form-group">
        <label for="companyId">ID Société</label>
        <input type="text" id="companyId" [(ngModel)]="client.company.companyId" name="companyId" required placeholder="ID Société">
      </div>
      <div class="form-group">
        <label for="companyName">Nom de la société</label>
        <input type="text" id="companyName" [(ngModel)]="client.company.name" name="companyName" required placeholder="Nom de la société">
      </div>
      <div class="form-group">
        <label for="companyAddress">Adresse</label>
        <input type="text" id="companyAddress" [(ngModel)]="client.company.address" name="companyAddress" required placeholder="Adresse de la société">
      </div>

      <button type="submit">Suivant</button>
    </div>

    <!-- Étape 2 : Informations sur le client -->
    <div *ngIf="step === 2">
      <h3>Client</h3>
      <div class="form-group">
        <label for="customerId">ID Client</label>
        <input type="text" id="customerId" [(ngModel)]="client.customer.customerId" name="customerId" required placeholder="ID Client">
      </div>
      <div class="form-group">
        <label for="firstName">Prénom</label>
        <input type="text" id="firstName" [(ngModel)]="client.customer.firstName" name="firstName" required placeholder="Prénom">
      </div>
      <div class="form-group">
        <label for="lastName">Nom</label>
        <input type="text" id="lastName" [(ngModel)]="client.customer.lastName" name="lastName" required placeholder="Nom">
      </div>
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" [(ngModel)]="client.customer.email" name="email" required placeholder="Adresse email">
      </div>
      <div class="form-group">
        <label for="phone">Téléphone</label>
        <input type="tel" id="phone" [(ngModel)]="client.customer.phone" name="phone" required placeholder="Téléphone">
      </div>
      <div class="form-group">
        <label for="customerAddress">Adresse</label>
        <input type="text" id="customerAddress" [(ngModel)]="client.customer.address" name="customerAddress" required placeholder="Adresse du client">
      </div>

      <button type="button" (click)="previousStep()">Retour</button>
      <button type="submit">Enregistrer</button>
    </div>
  </form>
</div>
